<template>
  <view class="page-container">
    <!-- È°∂ÈÉ®ËÉåÊôØ‰∏éÁî®Êà∑‰ø°ÊÅØ -->
    <view class="header-section" :style="{ paddingTop: statusBarHeight + 20 + 'px' }">
      <view class="user-card">
        <view class="avatar-box">
          <!-- ÈªòËÆ§Â§¥ÂÉè -->
          <view class="avatar-placeholder"></view>
        </view>
        <view class="user-info">
          <text class="nickname">DrinkUser</text>
          <text class="vip-tag">VIP ‰ºöÂëò</text>
        </view>
      </view>
    </view>

    <!-- ËÆ¢ÂçïÁä∂ÊÄÅÊ†è -->
    <view class="order-status-card">
      <view class="card-header">
        <text class="card-title">ÊàëÁöÑËÆ¢Âçï</text>
        <text class="card-more">ÂÖ®ÈÉ®ËÆ¢Âçï ></text>
      </view>
      <view class="status-grid">
        <view class="status-item" v-for="(item, index) in orderStatus" :key="index">
          <text class="status-icon">{{ item.icon }}</text>
          <text class="status-text">{{ item.text }}</text>
        </view>
      </view>
    </view>

    <!-- ÂäüËÉΩÂàóË°® -->
    <view class="menu-list">
      <view
        class="menu-item"
        v-for="(item, index) in menuList"
        :key="index"
        @click="handleMenuClick(item)"
      >
        <text class="menu-icon-left">{{ item.icon }}</text>
        <text class="menu-text">{{ item.text }}</text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <!-- ÁâàÊú¨‰ø°ÊÅØ -->
    <view class="version-info">
      <text>v1.0.0</text>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { onLoad } from '@dcloudio/uni-app'

const statusBarHeight = ref(20)

onLoad(() => {
  const sysInfo = uni.getSystemInfoSync()
  statusBarHeight.value = sysInfo.statusBarHeight || 20
})

const orderStatus = ref([
  { text: 'ÂæÖ‰ªòÊ¨æ', icon: 'üí≥' },
  { text: 'ÂæÖÂèëË¥ß', icon: 'üì¶' },
  { text: 'ÂæÖÊî∂Ë¥ß', icon: 'üöö' },
  { text: 'Â∑≤ÂÆåÊàê', icon: '‚úÖ' },
  { text: 'ÈÄÄÊ¨æ/ÂîÆÂêé', icon: 'üîß' },
])

const menuList = ref([
  { text: 'Êî∂Ë¥ßÂú∞ÂùÄ', icon: 'üìç' },
  { text: '‰ºòÊÉ†Âà∏', icon: 'üé´' },
  { text: 'ËÅîÁ≥ªÂÆ¢Êúç', icon: 'üéß' },
  { text: 'ËÆæÁΩÆ', icon: '‚öôÔ∏è' },
])

const handleMenuClick = (item: any) => {
  uni.showToast({
    title: `ÁÇπÂáª‰∫Ü${item.text}`,
    icon: 'none',
  })
}
</script>

<style scoped>
.page-container {
  min-height: 100vh;
  background-color: #f5f5f5;
}

/* È°∂ÈÉ®Âå∫Âüü */
.header-section {
  background-color: #ff6b00;
  height: 180px;
  padding: 0 20px 20px;
  display: flex;
  align-items: flex-start;
  box-sizing: border-box;
}

.user-card {
  display: flex;
  align-items: center;
}

.avatar-box {
  width: 60px;
  height: 60px;
  border-radius: 30px;
  background-color: #fff;
  margin-right: 16px;
  border: 2px solid rgba(255, 255, 255, 0.5);
  overflow: hidden;
}

.avatar-placeholder {
  width: 100%;
  height: 100%;
  background-color: #eee;
}

.user-info {
  display: flex;
  flex-direction: column;
}

.nickname {
  font-size: 20px;
  font-weight: bold;
  color: #fff;
  margin-bottom: 6px;
}

.vip-tag {
  font-size: 12px;
  color: #ff6b00;
  background-color: #fff;
  padding: 2px 8px;
  border-radius: 10px;
  align-self: flex-start;
}

/* ËÆ¢ÂçïÁä∂ÊÄÅÂç°Áâá */
.order-status-card {
  background-color: #fff;
  margin: -40px 16px 16px;
  border-radius: 12px;
  padding: 16px;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  border-bottom: 1px solid #f5f5f5;
  padding-bottom: 12px;
}

.card-title {
  font-size: 16px;
  font-weight: bold;
  color: #333;
}

.card-more {
  font-size: 12px;
  color: #999;
}

.status-grid {
  display: flex;
  justify-content: space-between;
}

.status-item {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.status-icon {
  font-size: 24px;
  margin-bottom: 8px;
}

.status-text {
  font-size: 12px;
  color: #666;
}

/* ËèúÂçïÂàóË°® */
.menu-list {
  background-color: #fff;
  margin: 0 16px;
  border-radius: 12px;
  padding: 0 16px;
}

.menu-item {
  height: 50px;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #f5f5f5;
}

.menu-item:last-child {
  border-bottom: none;
}

.menu-icon-left {
  font-size: 20px;
  margin-right: 12px;
}

.menu-text {
  flex: 1;
  font-size: 14px;
  color: #333;
}

.menu-arrow {
  font-size: 14px;
  color: #ccc;
}

.version-info {
  text-align: center;
  padding: 20px;
  color: #ccc;
  font-size: 12px;
}
</style>
